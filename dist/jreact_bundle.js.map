{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/jreact.ts"],"names":[],"mappings":"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","file":"jreact_bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/jreact.ts\");\n","/// <reference path=\"./utils.ts\"/>\n/// <reference path=\"./rslPromise.ts\"/>\n/**\n * @author SYESILDAG\n * https://github.com/syesildag/jreact\n */\nnamespace JReact {\n  'use strict';\n\n  export let DEBUG: boolean = false;\n  export let TEST: boolean = false;\n\n  export type Key = string | number;\n  export type ComponentArray = Array<string | number | Component<any, any, any, any>>;\n\n  export const INSTANCE: string = 'instance';\n  export const DATA_KEY: string = 'data-key';\n  export const RSL_VALID_REQUIRED: string = 'rsl-valid-required';\n  export const RSL_INVALID_REQUIRED: string = 'rsl-invalid-required';\n  export const RSL_VALID_PATTERN: string = 'rsl-valid-pattern';\n  export const RSL_INVALID_PATTERN: string = 'rsl-invalid-pattern';\n  export const DATA_FIXED_ITEM: string = 'data-fixed-item';\n  export const DATA_REQUIRED: string = 'data-required';\n  export const DATA_PATTERN: string = 'data-pattern';\n  export const VALUE: string = '_value';\n\n  const STYLE: string = 'style';\n  const CLASS: string = 'class';\n\n  let ATTRIBUTE_MAP: any = {\n    key: DATA_KEY,\n    className: CLASS\n  };\n\n  [STYLE,\n    VALUE,\n    DATA_REQUIRED,\n    DATA_PATTERN,\n    'size',\n    'maxlength',\n    'id',\n    'change',\n    'checked',\n    'click',\n    'colspan',\n    'contextmenu',\n    'disabled',\n    'selected',\n    'mousedown',\n    'mousemove',\n    'mouseup',\n    'touchend',\n    'touchmove',\n    'touchstart',\n    'type',\n    'value',\n    'placeholder',\n    'title',\n    'href',\n    'name'\n  ].forEach(key => ATTRIBUTE_MAP[key] = key);\n\n  /**\n   * FSA-compliant action.\n   * @see https://github.com/acdlite/flux-standard-action\n   *\n   * @param {string} type\n   * @param {object} payload\n   * @param {boolean} error\n   * @param {object} meta\n   * @return {object} Action\n   */\n  export class Action<A = any, L = any> {\n    constructor(\n      public type: A,\n      public payload?: L,\n      public error?: boolean,\n      public meta?: any) {\n    }\n  }\n\n  export function getInstance<P extends Props, S, C extends Component<P, S, any, any>>(el: JQuery): C {\n    return el.data(INSTANCE);\n  }\n\n  function setInstance<P extends Props>(el: JQuery, comp: Component<P, any, any, any>) {\n    el.data(INSTANCE, comp);\n  }\n\n  export function getInstanceKey<P extends Props>(comp: Component<P, any, any, any>): string {\n    return getInstanceKeyFromTag(comp.getTag(), comp.props.key);\n  }\n\n  export function getInstanceKeyFromTag(tag: string, key: Key): string {\n    let componentKey = tag;\n\n    if (Utils.testString(key))\n      componentKey += '[' + DATA_KEY + '=' + key + ']';\n\n    return componentKey;\n  }\n\n  export function isSame(myProps: any, nextProps: any): boolean {\n    if (myProps === nextProps || (myProps == null && nextProps == null))\n      return true;\n\n    if (myProps == null && nextProps != null)\n      return false;\n\n    if (myProps != null && nextProps == null)\n      return false;\n\n    if (Object.keys(myProps).length !== Object.keys(nextProps).length)\n      return false;\n\n    return Object.keys(myProps).every(function (prop) {\n      return myProps[prop] === nextProps[prop];\n    });\n  }\n\n  export function NOOP() {\n  }\n\n  export function createElement<P extends Props, C extends Component<P>>(\n    jrc: { new(props: P): C },\n    props: P, ...args: ComponentArray): C;\n\n  export function createElement<P extends DOMAttributes>(\n    jrc: string, props: P, ...args: ComponentArray): ComponentDOM<P>;\n\n  export function createElement<P extends Props, C extends Component<P>>(\n    jrc: string | { new(props: P): C },\n    props: P,\n    ...args: ComponentArray): C | ComponentDOM<P> {\n    let childKeys: any = {};\n\n    if (args.length > 1) {\n\n      if (Utils.isStringOrNumber(args[0]))\n        throw new Error('multiple children with string or number');\n\n      args.forEach(function (child) {\n\n        if (Utils.isStringOrNumber(child))\n          return;\n\n        let comp = <Component<P>>child,\n          componentKey: string;\n\n        if (comp.props.key == null)\n          throw new Error('partially defined child prop keys: ' + jrc);\n\n        componentKey = getInstanceKey(comp);\n\n        if (childKeys.hasOwnProperty(componentKey))\n          throw new Error('duplicate child prop keys: ' + jrc);\n        else childKeys[componentKey] = true;\n      });\n    }\n\n    if (!props) props = <P>{};\n\n    props.children = args;\n\n    if (typeof jrc === 'function')\n      return new jrc(props);\n    else\n      return new ComponentDOM(props, <string>jrc);\n  }\n\n  function updateProps(comp: any, el: JQuery, remove?: boolean) {\n    Object.keys(comp.props).forEach(function (key) {\n      let keyMap: string, value = comp.props[key];\n      if (ATTRIBUTE_MAP.hasOwnProperty(key)) {\n\n        keyMap = ATTRIBUTE_MAP[key];\n\n        if (typeof value === 'function') {\n          if (remove)\n            el.unbind(keyMap);\n          else\n            el.bind(keyMap, value);\n        }\n        else if (key === STYLE) {\n          Object.keys(value).forEach(style => {\n            el.css(style, remove ? '' : value[style]);\n          });\n        }\n        else if (key === VALUE) {\n          if (remove)\n            el.val(null);\n          else el.val(value);\n        }\n        else if (remove) {\n          if (Utils.isBoolean(value))\n            el.prop(keyMap, false)\n          else el.removeAttr(keyMap);\n        }\n        else {\n          if (Utils.isBoolean(value))\n            el.prop(keyMap, value)\n          else el.attr(keyMap, value);\n        }\n      }\n    }, comp);\n  }\n\n  export function render<P extends Props>(comp: Component<P>, mount: JQuery, sibling?: JQuery): JQuery {\n    let childSibling: JQuery,\n      nextSibling: JQuery,\n      renderResult: Component<any> | ComponentArray,\n      oldComp: Component<any>,\n      prevProps: any,\n      prevState: any,\n      el: JQuery,\n      first = false,\n      alreadyMounted = false,\n      children: ComponentArray = [],\n      childKeyElements: { [index: string]: boolean } = {},\n      instanceKey: string = getInstanceKey(comp),\n      oldHTML: string;\n\n    el = mount.children(instanceKey);\n    alreadyMounted = el.length > 0;\n\n    if (alreadyMounted && (oldComp = getInstance(el))) {\n\n      if (DEBUG)\n        oldHTML = el.get(0).outerHTML;\n\n      //move component\n      if (sibling) {\n        nextSibling = sibling.next();\n\n        if (nextSibling.length == 0 || getInstanceKey(getInstance(nextSibling)) !== instanceKey) {\n          el.detach();\n          sibling.after(el);\n        }\n      }\n\n      if (!oldComp.shouldComponentUpdate(comp.props, comp.state))\n        return el;\n\n      prevState = oldComp.state;\n\n      oldComp.componentWillReceiveProps(comp.props);\n\n      updateProps(oldComp, el, true);\n      prevProps = oldComp.props;\n      oldComp.props = comp.props;\n      updateProps(oldComp, el);\n      comp = oldComp;\n\n    } else {\n\n      first = true;\n      if (!alreadyMounted)\n        el = jQuery('<' + comp.getTag() + '/>');\n      comp.setElement(el);\n      setInstance(el, comp);\n\n      comp.componentWillMount();\n\n      updateProps(comp, el);\n      if (!alreadyMounted) {\n        if (sibling)\n          sibling.after(el);\n        else\n          mount.append(el);\n      }\n    }\n\n    if (comp instanceof AutoTemplate)\n      comp.renderTemplate();\n    else if (comp.props.dangerouslySetInnerHTML)\n      el.html(comp.props.dangerouslySetInnerHTML.__html);\n    else {\n\n      renderResult = comp.render();\n      if (renderResult) {\n        if (Utils.isArray(renderResult))\n          children.push(...renderResult as Array<Component<any>>)\n        else children.push(renderResult as Component<any>);\n      }\n      else children = comp.props.children;\n\n      //create children hash\n      children.forEach((child) => {\n        if (child instanceof Component)\n          childKeyElements[getInstanceKey(child)] = true;\n      });\n\n      //unmount non-existant children\n      el.children().each(function () {\n        let jEl = jQuery(this), inst = getInstance(jEl);\n        if ((!inst || !childKeyElements[getInstanceKey(inst)]) && !jEl.is('[' + DATA_FIXED_ITEM + ']'))\n          unmountElement(jEl);\n      });\n\n      //render children\n      comp.refs = {};\n      children.forEach(function (child) {\n        if (child instanceof Component) {\n          childSibling = render(child, el, childSibling);\n          if (child.props.ref != null) {\n            if (Utils.isFunction(child.props.ref))\n              child.props.ref.call(comp, childSibling);\n            else if (child.props.ref != '')\n              comp.refs[child.props.ref] = childSibling;\n          }\n        }\n        else\n          el.text(child);\n      });\n    }\n\n    if (first)\n      comp.componentDidMount();\n    else\n      comp.componentDidUpdate(prevProps, prevState);\n\n    if (DEBUG && !first && oldHTML === el.get(0).outerHTML) {\n      console.log(`rendered but same:\\n${(<any>comp.constructor).name}\\n${getInstanceKey(comp) }\\n${oldHTML}`);\n      console.dir(el.get(0));\n    }\n\n    return el;\n  }\n\n  export function renderDOM<P extends Props>(comp: Component<P>, m: JQuery): JQuery {\n    let el: JQuery = render(comp, m);\n\n    m.children().each(function () {\n      if (this !== el[0])\n        unmountElement(jQuery(this));\n    });\n\n    return el;\n  }\n\n  function unmountElement(jc: JQuery, bDoNotRemove?: boolean) {\n    let old = getInstance(jc);\n    if (old)\n      old.componentWillUnmount();\n\n    if (bDoNotRemove)\n      jc.html(null);\n    else\n      jc.remove();\n  }\n\n  export interface Props {\n    children?: ComponentArray;\n    key?: Key;\n    ref?: string | ((this: JReact.Component<any>, el: JQuery) => any);\n    className?: string;\n    style?: React.CSSProperties;\n    dangerouslySetInnerHTML?: {\n      __html: string;\n    };\n  }\n\n  export class Component<P extends Props, S = any, A = any, L = any> {\n    public element: JQuery;\n    public props: P;\n    public state: S;\n    public refs: { [index: string]: JQuery } = {};\n\n    constructor(props: P) {\n      let defaultProps = this.getDefaultProps();\n      if (defaultProps)\n        props = jQuery.extend(true, {}, defaultProps, props);\n      this.props = props;\n    }\n\n    protected getDefaultProps(): P {\n      return null;\n    }\n\n    public getTag(): string {\n      return 'span';\n    }\n\n    public getElement(): JQuery {\n      return this.element;\n    }\n\n    public setElement(element: JQuery) {\n      this.element = element;\n    }\n\n    protected _getState(): any {\n      return this.state;\n    }\n\n    protected _setState(state: S) {\n      this.state = state;\n    }\n\n    public render(): Component<any> | ComponentArray {\n      return null;\n    }\n\n    public renderTemplate() {\n      throw new Error(\"must be overloaded\");\n    }\n\n    protected reduce(state: S, action: Action<A, L>): S {\n      return state;\n    }\n\n    public shouldComponentUpdate(nextProps: P, nextState: S): boolean {\n      return !isSame(this.state, nextState) || !isSame(this.props, nextProps);\n    }\n\n    public dispatch(action: Action<A, L>): void {\n      this.setState(this.reduce(this.state, action));\n    }\n\n    private setState(nextState: S) {\n      if (this.shouldComponentUpdate(this.props, nextState)) {\n        this._setState(nextState);\n        if (!TEST) {\n          let renderResult = this.render();\n          if (renderResult) {\n            if (Utils.isArray(renderResult))\n              render(JReact.createElement(this.constructor as { new(props: P): Component<P> }, this.props, ...renderResult as Array<Component<any>>), this.element.parent());\n            else renderDOM(renderResult as Component<any>, this.element);\n          }\n          else this.renderTemplate();\n        }\n      }\n    }\n\n    public componentWillReceiveProps(nextProps: P) {\n    }\n\n    public componentWillMount() {\n    }\n\n    public componentDidMount() {\n    }\n\n    public componentWillUnmount(): void | any {\n    }\n\n    public componentDidUpdate(prevProps: P, prevState: S) {\n    }\n  }\n\n  export class ComponentDOM<P extends Props> extends Component<P> {\n\n    constructor(props: P, public tag: string) {\n      super(props);\n    }\n\n    public getTag(): string {\n      return this.tag;\n    }\n  }\n\n  export interface AutoTemplateProps<D, C extends AutoTemplateProps<any, any>> extends Props {\n    name?: string;\n    nameSpace?: string;\n    templateID?: string;\n    tag?: string;\n    data?: D;\n    components?: Array<C>;\n  }\n\n  export class AutoTemplate<P extends AutoTemplateProps<any, any>, S = any, A = any, L = any> extends Component<P, S, A, L> {\n\n    constructor(props: P) {\n      super(props);\n    }\n\n    public getTag(): string {\n      return this.props.tag;\n    }\n\n    protected getComponents(): Array<AutoTemplateProps<any, any>> {\n      return this.props.components;\n    }\n\n    protected getComponentByKey(key: Key): AutoTemplateProps<any, any> {\n      return getPropByKey(key, this.getComponents());\n    }\n\n    protected getTemplateHTML(): string {\n      return getTemplateContent(this.props.templateID);\n    }\n\n    public renderTemplate() {\n      let templateHTML = this.getTemplateHTML(), el = this.getElement();\n      this.preRenderTemplate();\n      if (!Utils.isUndefined(templateHTML) && !el.html())\n        el.html(templateHTML);\n      this.postRenderTemplate();\n    }\n\n    protected preRenderTemplate() {\n\n      this._preRenderTemplate();\n\n      let childKeyElements: { [index: string]: boolean } = {},\n        components = this.getComponents(),\n        templateHTML = this.getTemplateHTML();\n\n      //create children hash\n      if (components)\n        components.forEach(component => {\n          childKeyElements[getInstanceKeyFromTag(component.tag, component.key)] = true;\n        });\n\n      //unmount non-existant children\n      this.getElement().children('[' + DATA_KEY + ']').each(function () {\n        let jEl = jQuery(this), inst = getInstance(jEl);\n        if (!inst || !childKeyElements[getInstanceKey(inst)])\n          unmountElement(jEl, !Utils.isUndefined(templateHTML));\n      });\n\n    }\n\n    protected _preRenderTemplate() {\n    }\n\n    protected postRenderTemplate() {\n\n      let components = this.getComponents(), sibling: JQuery = null, templateHTML = this.getTemplateHTML();\n\n      //render children\n      this.refs = {};\n      if (components)\n        components.forEach(component => {\n          sibling = render(createElement(evalComponent(component), component), this.getElement(), Utils.isUndefined(templateHTML) ? sibling : undefined);\n          this.refs[component.key] = sibling;\n        });\n\n      this._postRenderTemplate();\n    }\n\n    protected _postRenderTemplate() {\n    }\n  }\n\n  function evalComponent(props: AutoTemplateProps<any, any>) {\n    return eval(props.nameSpace + \".\" + props.name);\n  }\n\n  export class StatelessAutoTemplate<P extends AutoTemplateProps<any, any>> extends AutoTemplate<P> {\n    constructor(props: P) {\n      super(props);\n    }\n  }\n\n  export function getDynamicComponent<C extends AutoTemplateProps<any, any>, D extends DynamicComponentData<C>, P extends DynamicAutoTemplateProps<D, any>>(key: Key, dynProps: P): C {\n    return getPropByKey(key, dynProps.data.dynamicComponents)\n  }\n\n  export function getPropByKey<P extends Props>(key: Key, props: Array<P>): P {\n    if (props)\n      for (let component of props)\n        if (component.key == key)\n          return component;\n    return null;\n  }\n\n  export interface DynamicComponentData<C extends AutoTemplateProps<any, any>> {\n    dynamicComponents?: Array<C>;\n  }\n\n  export interface DynamicAutoTemplateProps<D extends DynamicComponentData<any>, C extends AutoTemplateProps<any, any>> extends AutoTemplateProps<D, C> {\n  }\n\n  export class DynamicStatelessAutoTemplate<P extends DynamicAutoTemplateProps<any, any>> extends StatelessAutoTemplate<P> {\n    constructor(props: P) {\n      super(props);\n    }\n\n    protected getDynamicComponentByKey(key: Key) {\n      return getPropByKey(key, this.props.data.dynamicComponents);\n    }\n  }\n\n  export class ComponentController<G = any, A = any, L = any> {\n\n    protected state: G;\n    protected converters: Array<ComponentConverter<G, any>>;\n\n    constructor(state: G, ...converters: Array<ComponentConverter<G, any>>) {\n      this.state = state;\n      this.converters = converters;\n    }\n\n    public dispatch(action: JReact.Action<A, L>): void {\n      let actionHandler = this.getActionHandler(action.type), oldState = Utils.extend(this.state);\n      this.state = actionHandler.reduce(this, action);\n\n      if (Utils.isFunction(actionHandler.preRenderTemplate)) {\n        this.preRenderStart(action);\n        actionHandler.preRenderTemplate(this, action).then(\n          (newState: G) => {\n            this.state = newState;\n            this.render(actionHandler, action);\n            this.preRenderSuccess(action, oldState, newState);\n            this.preRenderFinally(action, oldState, newState);\n          },\n          (error: any) => {\n            this.state = oldState;\n            this.preRenderError(action, oldState, error);\n            this.preRenderFinally(action, oldState, error);\n          }\n        );\n      }\n      else this.render(actionHandler, action);\n    }\n\n    public render(actionHandler: ComponentActionHandler<G, A, L>, action: JReact.Action<A, L>) {\n\n      if (TEST)\n        return;\n\n      for (let converter of this.converters) {\n        let component = converter.getComponent();\n        let newProps = converter.convert(this.state);\n        render(JReact.createElement(component.constructor as { new(props: any): Component<any> }, newProps), component.getElement().parent());\n      }\n\n      if (Utils.isFunction(actionHandler.postRenderTemplate))\n        actionHandler.postRenderTemplate(this, action);\n    }\n\n    public getState() {\n      return this.state;\n    }\n\n    protected getActionHandler(actionType: A): ComponentActionHandler<G, A, L> {\n      throw new Error('getActionHandler should be overridden');\n    }\n\n    public preRenderStart(action: JReact.Action<A, L>) {\n    }\n\n    public preRenderSuccess(action: JReact.Action<A, L>, oldState: G, newState: G) {\n    }\n\n    public preRenderError(action: JReact.Action<A, L>, oldState: G, error: any) {\n    }\n\n    public preRenderFinally(action: JReact.Action<A, L>, oldState: G, newStateOrError: any) {\n    }\n  }\n\n  export class SingleComponentController<P extends JReact.Props, A = any, L = any> extends ComponentController<P, A, L> {\n    constructor(component: JReact.Component<P>) {\n      super(component.props, new SingleComponentConverter(component));\n    }\n  }\n\n  export interface ComponentActionHandler<G, A, L> {\n    supply?(): A;\n\n    reduce(controller: ComponentController<G, A, L>, action: JReact.Action<A, L>): G;\n\n    preRenderTemplate?(controller: ComponentController<G, A, L>, action: JReact.Action<A, L>): RslPromise.Thenable<G>;\n\n    postRenderTemplate?(controller: ComponentController<G, A, L>, action: JReact.Action<A, L>): void;\n  }\n\n  export interface ComponentConverter<G, P extends JReact.Props> {\n    getComponent(): JReact.Component<P>;\n\n    convert(state: G): P;\n  }\n\n  export class SingleComponentConverter<P extends JReact.Props> implements ComponentConverter<P, P> {\n    constructor(public component: JReact.Component<P>) {\n    }\n\n    public getComponent() {\n      return this.component;\n    }\n\n    public convert(state: P) {\n      return state;\n    }\n  }\n\n  export interface JQueryEventHandler {\n    (e: JQueryEventObject): any\n  }\n\n  export interface DOMAttributes extends Props {\n    colspan?: number;\n    checked?: boolean;\n    disabled?: boolean;\n    selected?: boolean;\n    'type'?: string;\n    'data-required'?: boolean;\n    'data-pattern'?: Utils.FORMAT_KEY;\n    placeholder?: string;\n    title?: string;\n    href?: string;\n    name?: string;\n    value?: string;\n    _value?: string;\n    size?: number;\n    maxlength?: number;\n    id?: string;\n    style?: React.CSSProperties;\n    change?: JQueryEventHandler;\n    click?: JQueryEventHandler;\n    mouseup?: JQueryEventHandler;\n    mousedown?: JQueryEventHandler;\n    mousemove?: JQueryEventHandler;\n    touchstart?: JQueryEventHandler;\n    touchend?: JQueryEventHandler;\n    touchmove?: JQueryEventHandler;\n    contextmenu?: JQueryEventHandler;\n  }\n\n  export interface DomFactory {\n    (props: DOMAttributes, ...args: ComponentArray): ComponentDOM<DOMAttributes>\n  }\n\n  export function hasInvalidPattern(el: JQuery) {\n    return el.hasClass(RSL_INVALID_PATTERN)\n  }\n\n  export function hasInvalidRequired(el: JQuery) {\n    return el.hasClass(RSL_INVALID_REQUIRED)\n  }\n\n  let templateCache: { [index: string]: string } = {};\n\n  export function getTemplateContent(id: string) {\n    return templateCache[id];\n  }\n\n  export interface JsonScript {\n    json: string;\n    script: string;\n  }\n\n  export function bootstrap(document: Document) {\n    let script: HTMLScriptElement, scriptType = 'text/html';\n    for (let index = 0; index < document.scripts.length; index++) {\n      script = document.scripts[index] as HTMLScriptElement;\n      if (script.type === scriptType && script.id)\n        templateCache[script.id] = script.text;\n    }\n  }\n}\n"],"sourceRoot":""}